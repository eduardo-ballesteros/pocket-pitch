# tailwind.config.js

```js
module.exports = {
    purge: ['./src/**/*.{js,jsx,ts,tsx}', './public/index.html'],
    darkMode: false,
    theme: {
      extend: {
        typography: {
          DEFAULT: {
            css: {
              maxWidth: 'none',
            },
          },
        },
      },
    },
    variants: {
      extend: {},
    },
    plugins: [
      require('@tailwindcss/typography'),
    ],
  }
```


# package.json

```json
{
  "name": "pocket-pitch",
  "version": "1.0.0",
  "description": "A React app with Express backend that generates tailored business pitches",
  "main": "server/server.js",
  "dependencies": {
    "@tailwindcss/typography": "^0.4.1",
    "axios": "^0.21.1",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.17.1",
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "react-scripts": "^5.0.1",
    "remarkable": "^2.0.1",
    "tailwindcss": "^2.2.19"
  },
  "scripts": {
    "start": "node server/server.js",
    "build": "react-scripts build",
    "dev": "react-scripts start",
    "postinstall": "npm run build"
  },
  "browserslist": {
    "production": [
      ">0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  }
}
```


# .gitignore

```
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*
.pnpm-debug.log*

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage
*.lcov

# nyc test coverage
.nyc_output

# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# Bower dependency directory (https://bower.io/)
bower_components

# node-waf configuration
.lock-wscript

# Compiled binary addons (https://nodejs.org/api/addons.html)
build/Release

# Dependency directories
node_modules/
jspm_packages/

# Snowpack dependency directory (https://snowpack.dev/)
web_modules/

# TypeScript cache
*.tsbuildinfo

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Optional stylelint cache
.stylelintcache

# Microbundle cache
.rpt2_cache/
.rts2_cache_cjs/
.rts2_cache_es/
.rts2_cache_umd/

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variable files
.env
.env.development.local
.env.test.local
.env.production.local
.env.local

# parcel-bundler cache (https://parceljs.org/)
.cache
.parcel-cache

# Next.js build output
.next
out

# Nuxt.js build / generate output
.nuxt
dist

# Gatsby files
.cache/
# Comment in the public line in if your project uses Gatsby and not Next.js
# https://nextjs.org/blog/next-9-1#public-directory-support
# public

# vuepress build output
.vuepress/dist

# vuepress v2.x temp and cache directory
.temp
.cache

# Docusaurus cache and generated files
.docusaurus

# Serverless directories
.serverless/

# FuseBox cache
.fusebox/

# DynamoDB Local files
.dynamodb/

# TernJS port file
.tern-port

# Stores VSCode versions used for testing VSCode extensions
.vscode-test

# yarn v2
.yarn/cache
.yarn/unplugged
.yarn/build-state.yml
.yarn/install-state.gz
.pnp.*
```


# src/index.js

```js
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';

ReactDOM.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
  document.getElementById('root')
);
```

# src/index.css

```css
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

body {
  @apply bg-gray-100;
}

.prose {
  @apply text-gray-800;
}

.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  @apply text-gray-900 font-semibold;
}

.prose a {
  @apply text-blue-600 hover:text-blue-800;
}

.prose ul, .prose ol {
  @apply pl-5;
}

.prose li {
  @apply mb-2;
}
```

# src/App.js

```js
import React from 'react';
import CompanyInfoGenerator from './components/CompanyInfoGenerator';

function App() {
  return (
    <CompanyInfoGenerator />
  );
}

export default App;
```

# server/server.js

```js
require('dotenv').config();
const express = require('express');
const cors = require('cors');
const path = require('path');
const generateInfoRouter = require('./routes/generate-info');

const app = express();

app.use(cors());
app.use(express.json());

// Test route
app.get('/api/test', (req, res) => {
  res.json({ message: 'Server is running correctly!' });
});

app.use('/api', generateInfoRouter);

// Serve static files from the React build
app.use(express.static(path.join(__dirname, '../build')));

// Handle React routing, return all requests to React app
app.get('*', (req, res) => {
  res.sendFile(path.join(__dirname, '../build', 'index.html'));
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`);
  console.log(`Tavily Key: ${process.env.TAVILY_API_KEY ? 'Set' : 'Not set'}`);
  console.log(`Perplexity Key: ${process.env.PERPLEXITY_API_KEY ? 'Set' : 'Not set'}`);
});
```

# public/index.html

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Pocket Pitch - Generate tailored business insights instantly"
    />
    <title>Pocket Pitch</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
```


# src/components/CompanyInfoGenerator.js

```js
import React, { useState } from 'react';

const Header = () => (
  <header className="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 shadow-md">
    <div className="container mx-auto">
      <h1 className="text-3xl font-bold">Pocket Pitch</h1>
      <p className="text-sm">Generate tailored business insights instantly</p>
    </div>
  </header>
);

const Footer = () => (
  <footer className="bg-gray-800 text-white p-4 mt-8">
    <div className="container mx-auto text-center">
      <p>&copy; 2024 Pocket Pitch. All rights reserved.</p>
    </div>
  </footer>
);

const CompanyInfoGenerator = () => {
  const [serviceProviderName, setServiceProviderName] = useState('');
  const [serviceProviderUrl, setServiceProviderUrl] = useState('');
  const [targetCustomerName, setTargetCustomerName] = useState('');
  const [targetCustomerUrl, setTargetCustomerUrl] = useState('');
  const [context, setContext] = useState('');
  const [loading, setLoading] = useState(false);
  const [result, setResult] = useState('');
  const [error, setError] = useState('');

  const handleGenerate = async () => {
    setLoading(true);
    setError('');
    setResult('');

    try {
      const response = await fetch('/api/generate-info', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          serviceProvider: { name: serviceProviderName, url: serviceProviderUrl },
          targetCustomer: { name: targetCustomerName, url: targetCustomerUrl },
          context
        }),
      });

      if (!response.ok) {
        throw new Error('Failed to generate information');
      }

      const data = await response.json();
      setResult(data.result);
    } catch (err) {
      setError('An error occurred while generating the information. Please try again.');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="flex flex-col min-h-screen">
      <Header />
      <main className="flex-grow container mx-auto px-4 py-8">
        <div className="max-w-2xl mx-auto">
          <div className="space-y-6">
            <div className="space-y-2">
              <h2 className="text-lg font-semibold">Service Provider</h2>
              <input
                type="text"
                placeholder="Service Provider Name"
                value={serviceProviderName}
                onChange={(e) => setServiceProviderName(e.target.value)}
                className="w-full p-2 border rounded"
              />
              <input
                type="url"
                placeholder="Service Provider URL"
                value={serviceProviderUrl}
                onChange={(e) => setServiceProviderUrl(e.target.value)}
                className="w-full p-2 border rounded"
              />
            </div>
            <div className="space-y-2">
              <h2 className="text-lg font-semibold">Target Customer</h2>
              <input
                type="text"
                placeholder="Target Customer Name"
                value={targetCustomerName}
                onChange={(e) => setTargetCustomerName(e.target.value)}
                className="w-full p-2 border rounded"
              />
              <input
                type="url"
                placeholder="Target Customer URL"
                value={targetCustomerUrl}
                onChange={(e) => setTargetCustomerUrl(e.target.value)}
                className="w-full p-2 border rounded"
              />
            </div>
            <div className="space-y-2">
              <h2 className="text-lg font-semibold">Context</h2>
              <textarea
                placeholder="Enter additional context or information"
                value={context}
                onChange={(e) => setContext(e.target.value)}
                className="w-full p-2 border rounded h-32"
              />
            </div>
            <button
              onClick={handleGenerate}
              disabled={loading}
              className="w-full p-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 transition duration-300 ease-in-out transform hover:-translate-y-1"
            >
              {loading ? (
                <span className="flex items-center justify-center">
                  <svg className="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                    <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  Generating...
                </span>
              ) : 'Generate Pitch'}
            </button>
          </div>
          {error && <div className="mt-4 p-3 bg-red-100 text-red-700 rounded-lg">{error}</div>}
          {result && (
            <div className="mt-8 p-6 bg-white shadow-lg rounded-lg">
              <h3 className="text-xl font-semibold mb-4">Generated Pitch</h3>
              <div className="prose max-w-none" dangerouslySetInnerHTML={{ __html: result }} />
            </div>
          )}
        </div>
      </main>
      <Footer />
    </div>
  );
};

export default CompanyInfoGenerator;
```

# server/routes/generate-info.js

```js
const express = require('express');
const axios = require('axios');
const { Remarkable } = require('remarkable');

const router = express.Router();

router.post('/generate-info', async (req, res) => {
  const { serviceProvider, targetCustomer, context } = req.body;

  try {
    // Tavily API call
    const tavilyResponse = await axios.post('https://api.tavily.com/search', {
      query: `${serviceProvider.name} and ${targetCustomer.name} ${context}`,
      api_key: process.env.TAVILY_API_KEY,
    }, {
      headers: {
        'Content-Type': 'application/json',
        'X-API-KEY': process.env.TAVILY_API_KEY
      }
    });

    // Perplexity API call
    const perplexityResponse = await axios.post('https://api.perplexity.ai/chat/completions', {
      model: 'llama-3.1-sonar-large-128k-online',
      messages: [
        {
          role: 'system',
          content: 'You are a helpful assistant that generates business insights.',
        },
        {
          role: 'user',
          content: `Generate a business insight report for ${serviceProvider.name} (${serviceProvider.url}) targeting ${targetCustomer.name} (${targetCustomer.url}). 
                    Additional Context: ${context}
                    Use this additional information: ${JSON.stringify(tavilyResponse.data)}`,
        },
      ],
    }, {
      headers: {
        'Authorization': `Bearer ${process.env.PERPLEXITY_API_KEY}`,
        'Content-Type': 'application/json'
      },
    });

    const markdown = perplexityResponse.data.choices[0].message.content;
    const html = convertMarkdownToHTML(markdown);

    res.json({ result: html });
  } catch (error) {
    console.error('Error:', error.response ? error.response.data : error.message);
    res.status(500).json({ 
      message: 'Internal Server Error', 
      error: error.message,
      tavily_key_set: !!process.env.TAVILY_API_KEY,
      perplexity_key_set: !!process.env.PERPLEXITY_API_KEY
    });
  }
});

function convertMarkdownToHTML(markdown) {
  const md = new Remarkable();
  return md.render(markdown);
}

module.exports = router;
```

